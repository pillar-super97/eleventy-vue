{% assign pathNodes = page.inputPath | split: "/" %} {% assign fileName =
pathNodes[2] %} {% assign assetPath = name | prepend: "/" | prepend: fileName |
prepend: "/posts/" %}

<figure
  class="figure {% if caption %}figure--caption{% endif %} {% if frame != false %}figure--frame{% endif %}"
>
  <img
    alt="{{ caption }}"
    class="figure__image"
    loading="lazy"
    onload="this.parentElement.classList += ' figure--loaded'"
    src="{{ assetPath }}"
    width="{{ width }}"
  />

  <figcaption class="figure__caption">{{ caption }}</figcaption>
</figure>
